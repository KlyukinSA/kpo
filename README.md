# kpo

Телеграм бот использует ML и содержит следующий функционал.

Система выявления сердечных заболеваний

Пользователь делает запрос для получения результата. Запрос содержит поля, относящиеся к человеку, заболевание которого надо выявить:
1. возраст
2. пол
3. тип боли в груди (4 варианта)
4. артериальное давление в состоянии покоя
5. холесторал в сыворотке, мг/дл
6. уровень сахара в крови натощак > 120 мг/дл
7. результаты электрокардиографии покоя (значения 0,1,2)
8. достигнута максимальная частота сердечных сокращений
9. стенокардия, вызванная физической нагрузкой
10. oldpeak = депрессия ST, вызванная физическими упражнениями, по сравнению с отдыхом
11. наклон пикового сегмента ST при нагрузке
12. количество магистральных сосудов (0-3), окрашенных флюороскопией
13. thal: 0 = нормально; 1 = фиксированный дефект; 2 = обратимый дефект

Система отвечает предположением о наличии заболеваний.

[Требования + Схемы](https://docs.google.com/document/d/12QD7l_MOJejAtYvzt7p5G6opsmvbHxuQfuPyr4mpCRI/edit?usp=sharing)

# Участники проекта

- Клюкин Степан
- Шеремет Сергей

группа 5130904/10102

# Запуск

```
export KPO_TOKEN=54564:AASD-Y-afs546af4s6d5
docker build -t kpo --build-arg token=$KPO_TOKEN .
docker run -d kpo
docker ps
docker logs bb0b61cf6f33
```

## Без докера

1. скачать датасет и поместить его в директорию, из которой будете запускать python: https://www.kaggle.com/datasets/johnsmith88/heart-disease-dataset?resource=download&select=heart.csv
2. установить все библиотеки конечно. e g `pip install pyTelegramBotAPI`
3. установить переменную среды в токен вашего бота: `export KPO_TOKEN=54564:AASD-Y-afs546af4s6d5`
4. запустить питон

# Тестирование

Должен быть запущен контейнер. См Запуск. Пусть bb0b61cf6f33 - его айди.
```
docker exec -it bb0b61cf6f33 bash
python3 test.py
```
Скрипт test.py должен выполниться, не выведя ничего на экран.
